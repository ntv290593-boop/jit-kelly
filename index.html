<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIT Terminal V10 (Modular) | Vi·ªát BOHO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>
<body class="flex flex-col h-screen">

    <nav class="h-16 border-b border-slate-800 flex justify-between items-center px-5 bg-[#0b1121] shrink-0 z-20">
        <div class="flex items-center gap-4">
            <button onclick="openSetupModal()" class="bg-slate-800 hover:bg-slate-700 text-slate-300 px-3 py-1.5 rounded text-[10px] font-bold border border-slate-600 flex items-center gap-2 transition">
                ‚öôÔ∏è SETUP V·ªêN
            </button>
            <div>
                <h1 class="font-black text-sky-400 text-xs tracking-[0.1em]">NAV TH·ª∞C (EQUITY)</h1>
                <div id="net-worth-display" class="text-xl font-black text-emerald-400">---</div>
            </div>
        </div>
        
        <div class="flex gap-6 text-right">
            <div>
                <p class="text-[9px] text-slate-500 font-bold uppercase">T·ª∑ l·ªá Margin</p>
                <p id="margin-ratio" class="text-sm font-bold text-white">---</p>
            </div>
            <div>
                <p class="text-[9px] text-slate-500 font-bold uppercase">S·ª©c mua / Ti·ªÅn m·∫∑t</p>
                <p id="cash-display" class="text-sm font-bold text-yellow-400">---</p>
            </div>
        </div>
    </nav>

    <main class="flex-1 flex flex-col md:flex-row overflow-hidden relative">
        <div class="flex-[2] bg-black border-r border-slate-800 relative h-full hidden md:block">
            <div id="tradingview_widget" class="h-full w-full"></div>
        </div>

        <div class="w-full md:w-[460px] flex flex-col bg-[#0f172a] h-full shadow-2xl z-10 border-l border-slate-800">
            
            <div class="tab-container">
                <button onclick="switchTab('hunter')" id="tab-hunter" class="tab-btn active">üî≠ SƒÉn M·ªìi</button>
                <button onclick="switchTab('watchlist')" id="tab-watchlist" class="tab-btn">üìã Theo D√µi</button>
                <button onclick="switchTab('portfolio')" id="tab-portfolio" class="tab-btn">üíº T√†i S·∫£n</button>
                <button onclick="switchTab('history')" id="tab-history" class="tab-btn">üìú L·ªãch S·ª≠</button>
            </div>

            <div id="view-hunter" class="tab-content active p-5 space-y-4 overflow-y-auto">
                <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700/50 shadow-xl">
                    <h3 class="text-sky-500 font-extrabold text-xs mb-4 uppercase tracking-wider">Setup V·ªã th·∫ø JIT</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="label-xs">M√£ CK</label><input type="text" id="symbol" placeholder="VD: HPG" class="uppercase text-xl tracking-widest bg-slate-900/50"></div>
                            <div><label class="label-xs">Win Rate %</label><input type="number" id="winRate" value="60" class="bg-slate-900/50"></div>
                        </div>
                        <div class="grid grid-cols-3 gap-3">
                            <div><label class="label-xs text-slate-400">Entry</label><input type="number" id="entry" step="0.05" class="bg-slate-900/50"></div>
                            <div><label class="label-xs text-emerald-500">Target</label><input type="number" id="target" step="0.05" class="text-emerald-400 bg-slate-900/50"></div>
                            <div><label class="label-xs text-rose-500">Stoploss</label><input type="number" id="stoploss" step="0.05" class="text-rose-400 bg-slate-900/50"></div>
                        </div>
                    </div>
                    <button onclick="addToWatchlist()" class="w-full mt-6 bg-gradient-to-r from-sky-600 to-blue-700 hover:from-sky-500 hover:to-blue-600 text-white font-bold py-3.5 rounded-xl text-xs uppercase shadow-lg transition active:scale-95">
                        + Th√™m v√†o Watchlist
                    </button>
                </div>
            </div>

            <div id="view-watchlist" class="tab-content p-4 overflow-y-auto bg-[#0b1121]">
                <div id="watchlist-container" class="space-y-3 pb-20"></div>
            </div>

            <div id="view-portfolio" class="tab-content p-4 overflow-y-auto bg-[#0b1121]">
                <button onclick="openImportModal()" class="w-full mb-4 py-3 rounded border border-dashed border-slate-600 text-slate-400 text-xs font-bold hover:bg-slate-800 hover:text-white transition">
                    ‚ûï NH·∫¨P M√É ƒêANG GI·ªÆ (KH√îNG TR·ª™ TI·ªÄN)
                </button>
                 <div class="bg-slate-800/50 rounded-lg p-3 mb-3 flex justify-between items-center border border-slate-700">
                     <span class="text-[10px] text-slate-400 uppercase font-bold">T·ªïng Gi√° Tr·ªã Ch·ª©ng Kho√°n</span>
                     <span id="total-stock-val" class="text-sm font-bold text-white">0</span>
                 </div>
                <div id="portfolio-container" class="space-y-3 pb-20"></div>
            </div>

             <div id="view-history" class="tab-content p-4 overflow-y-auto bg-[#0b1121]">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xs font-bold text-slate-400 uppercase">Nh·∫≠t k√Ω giao d·ªãch</h3>
                    <button onclick="clearHistory()" class="text-[10px] text-red-500 hover:text-red-400 underline">X√≥a l·ªãch s·ª≠</button>
                </div>
                <div id="history-container" class="space-y-2 pb-20"></div>
           </div>
        </div>
    </main>

    <div id="setupModal" class="modal-overlay">
        <div class="modal-box relative">
            <button onclick="closeModal('setupModal')" class="absolute top-3 right-3 text-slate-500 hover:text-white">‚úï</button>
            <h3 class="text-lg font-black text-white mb-4 border-b border-slate-700 pb-2">‚öôÔ∏è C·∫§U H√åNH T√ÄI KHO·∫¢N</h3>
            <div class="space-y-4">
                <div>
                    <label class="text-[10px] text-slate-400 uppercase font-bold">Ti·ªÅn m·∫∑t th·ª±c c√≥ (Cash Balance)</label>
                    <input type="text" id="setupCash" class="text-xl text-yellow-400 bg-slate-900" oninput="formatCurrencyInput(this)">
                </div>
                <div>
                    <label class="text-[10px] text-slate-400 uppercase font-bold">D∆∞ n·ª£ Margin (Debt)</label>
                    <input type="text" id="setupDebt" class="text-xl text-red-400 bg-slate-900" oninput="formatCurrencyInput(this)" value="0">
                </div>
            </div>
            <button onclick="saveSetup()" class="w-full mt-6 py-3 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white font-bold text-sm uppercase">L∆ØU C·∫§U H√åNH</button>
        </div>
    </div>

    <div id="importModal" class="modal-overlay">
        <div class="modal-box relative">
            <button onclick="closeModal('importModal')" class="absolute top-3 right-3 text-slate-500 hover:text-white">‚úï</button>
            <h3 class="text-lg font-black text-white mb-4 border-b border-slate-700 pb-2">‚ûï NH·∫¨P M√É ƒêANG GI·ªÆ</h3>
            <div class="space-y-3">
                <div><label class="text-[10px] text-slate-400">M√£ CK</label><input type="text" id="impSym" class="uppercase text-lg"></div>
                <div><label class="text-[10px] text-slate-400">Gi√° V·ªën TB</label><input type="number" id="impPrice" step="0.05" class="text-lg"></div>
                <div><label class="text-[10px] text-slate-400">Kh·ªëi L∆∞·ª£ng</label><input type="text" id="impVol" class="text-lg" oninput="formatCurrencyInput(this)"></div>
            </div>
            <button onclick="executeImport()" class="w-full mt-4 py-3 rounded-lg bg-sky-600 hover:bg-sky-500 text-white font-bold text-sm">TH√äM V√ÄO LIST</button>
        </div>
    </div>

    <div id="txModal" class="modal-overlay">
        <div class="modal-box relative">
            <button onclick="closeModal('txModal')" class="absolute top-3 right-3 text-slate-500 hover:text-white">‚úï</button>
            <h3 id="modalTitle" class="text-xl font-black text-white mb-6 flex items-center gap-2"></h3>
            <div class="space-y-4">
                <div>
                    <label class="text-[10px] text-slate-400 uppercase font-bold">Gi√° Kh·ªõp (000ƒë)</label>
                    <input type="number" id="txPrice" step="0.05" class="text-xl text-yellow-400 bg-slate-900 border-slate-700">
                </div>
                <div>
                    <label class="text-[10px] text-slate-400 uppercase font-bold">Kh·ªëi L∆∞·ª£ng</label>
                    <input type="text" id="txVol" class="text-xl text-white bg-slate-900 border-slate-700" oninput="formatCurrencyInput(this)">
                </div>
                <div class="bg-black/30 p-3 rounded border border-slate-700/50 text-[11px] flex justify-between">
                    <span class="text-slate-400">T·ªïng gi√° tr·ªã:</span>
                    <span id="txTotalCalc" class="font-bold text-white">0</span>
                </div>
            </div>
            <button id="txConfirmBtn" class="w-full mt-6 py-3.5 rounded-lg text-sm font-bold uppercase shadow-lg bg-emerald-600 hover:bg-emerald-500 text-white">X√ÅC NH·∫¨N</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
